
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>惠中寺倉儲管理系統 - 新增</title>
	<link rel="stylesheet" href="/styles.css" />
    <script>
    // 已登入者自動導向新增頁
    (function(){
        try{ if(localStorage.getItem('loginUserId')) { window.location.replace('/add.html'); } }catch(e){}
    })();
    </script>
</head>
<body>
	<header>
		<h1>惠中寺倉儲管理系統</h1>
	</header>
	<main>
		<section id="user-section" style="margin-bottom:2em;">
			<h2>使用者註冊與登入</h2>
			<div>
				<a href="/register.html" class="button">前往註冊新使用者</a>
			</div>
			<div style="margin-top:1em;">
				<select id="login-user-select">
					<option value="">請選擇使用者</option>
				</select>
				<button id="login-btn">登入</button>
			</div>
			<div id="user-message" style="color:green;margin-top:1em;"></div>
		</section>
	</main>
	<script src="/app.js"></script>
	<script>
	document.getElementById('login-btn').addEventListener('click', function() {
		const select = document.getElementById('login-user-select');
		const userId = select.value;
		const username = select.options[select.selectedIndex]?.text;
		if (userId) {
			localStorage.setItem('loginUserId', userId);
			localStorage.setItem('loginUsername', username);
			window.location.href = '/add.html';
		}
	});
	</script>
</body>
</html>
